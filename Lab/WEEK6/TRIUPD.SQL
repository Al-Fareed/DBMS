SET SERVEROUTPUT ON
CREATE OR REPLACE TRIGGER UP_TRIG 
AFTER UPDATE OF SAL ON EMP
FOR EACH ROW
DECLARE
	DEPTNAME DEPT.DNAME%TYPE;
BEGIN	
	SELECT DNAME INTO DEPTNAME FROM DEPT WHERE DNO=:OLD.DEPTNO;
	INSERT INTO SAL_MOD(EMPNO,DNAME,OLD_SAL,MOD_DATE,MODIFIER)VALUES(:OLD.EMPNO,DEPTNAME,:OLD.SAL,SYSDATE,USER);
	
	DBMS_OUTPUT.PUT_LINE(' 1 ROW INSERTED TO TABLE SAL_MOD ');
END;
/